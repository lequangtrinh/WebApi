function Load_Combo(n,t,i,r){let u=n;if(i!=undefined){if(r!=undefined&&u!=undefined&&u.length>=1){let n=JSON.parse(JSON.stringify(u[0]));n.ID!=undefined&&n.Name!=undefined&&n.ID!=0&&(n.ID=0,n.Name=r,n.Icon!=undefined&&(n.Icon=""),n.Avatar!=undefined&&(n.Avatar=""),u=[n].concat(u))}let n=document.getElementById(t);if(n!=null){n.innerHTML="";let r="";if(u&&u.length>0)for(let n=0;n<u.length;n++){let t=u[n],i=t.Icon!=undefined&&t.Icon!=""?'<i class="'+t.Icon+'"><\/i>':"",f=t.Avatar!=undefined&&t.Avatar!=""?'<img style="width:15px; height:15px;" src="data:image/png;base64,'+(t.Avatar!=""?t.Avatar:Master_Default_Image)+'" alt="label-image">':"",e='<div class="item" data-value='+t.ID+">"+i+f+t.Name+"<\/div>";r=r+e}document.getElementById(t).innerHTML=r;OnCombo_FillOption(t,u,i)}if(r!=undefined&&u.length>=1)return 0}}function OnCombo_FillOption(n,t,i){let u=0,r=$("#"+n).parent().get(0);$(r).attr("class").includes("multiple")&&(u=1);$(r).find(".search")||$(r).prepend('<input class="search" autocomplete="off" tabindex="0" />');$(r).find(".dropdown").remove();$(r).prepend("<i class='dropdown icon'><\/i>");$(r).find(".search").unbind("keyup");$(r).find(".search").on("keyup",function(i){[40,39,38,37,34,33,133].includes(i.keyCode)||OnCombo_SearchTimeout(n,t,$(this).val(),"Name","item",OnCombo_SearchRender)});if(u==0){$(r).find(".dropdown.icon").unbind("click").on("click",function(n){$(r).find(".search").focus();n.preventDefault()});$(r).unbind("click");$(r).on("click",function(){OnCombo_Search(n,t,$(r).find(".search").val(),"Name","item",OnCombo_SearchRender)});if(i)$(r).find(".remove").remove();else{$(r).find(".remove").remove();$(r).prepend("<i class='remove icon'><\/i>");$(r).find(".remove.icon").unbind("click").on("click",function(n){$(this).parent(".dropdown").dropdown("clear");n.stopPropagation()})}$(r).find(".text").unbind("click").on("click",function(){$(r).find(".search").focus()})}else $(r).find(".search").unbind("click").on("click",function(n){$(r).dropdown("show");n.preventDefault()})}function OnCombo_Search(n,t,i,r,u,f){try{i=xoa_dau(i).toLowerCase();let e=t.filter(n=>xoa_dau(n[r]).toLowerCase().includes(i));return e!=undefined&&e!=null&&e.length!=0?(f(e,n),ColorSearchFilterText_Combo(i,"#"+n+" > ."+u)):f(t,n),!1}catch(e){return!1}}function OnCombo_SearchTimeout(n,t,i,r,u,f){try{let e=$("#"+n).parent().get(0);$(e).addClass("loading");clearTimeout(Timer_Search_Combo);Timer_Search_Combo=setTimeout(function(){OnCombo_Search(n,t,i,r,u,f);$(e).removeClass("loading")},300)}catch(e){return!1}}function OnCombo_SearchRender(n,t){let r=0,i=$("#"+t).parent().get(0);if($(i).attr("class").includes("multiple")&&(r=1),i!=undefined){let u=$(i).dropdown("get value"),f=document.getElementById(t);if(f!=null){f.innerHTML="";let i="";if(n&&n.length>0)for(let t=0;t<n.length;t++){let f=n[t],o=f.Icon!=undefined?'<i class="'+f.Icon+'"><\/i>':"",s=f.Avatar!=undefined?'<img style="width:15px; height:15px;" src="data:image/png;base64,'+(f.Avatar!=""?f.Avatar:Master_Default_Image)+'" alt="label-image">':"",e="";if(r==0){let n="";n=(","+u+",").includes(","+f.ID+",")?"item active":"item";e='<div class="'+n+'"  data-value='+f.ID+">"+o+s+f.Name+"<\/div>"}else(","+u+",").includes(","+f.ID+",")||(e='<div class="item"  data-value='+f.ID+">"+o+s+f.Name+"<\/div>");i=i+e}document.getElementById(t).innerHTML=i}}}var Timer_Search_Combo;